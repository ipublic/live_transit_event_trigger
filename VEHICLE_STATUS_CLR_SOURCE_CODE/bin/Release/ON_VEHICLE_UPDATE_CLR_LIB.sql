/*
Deployment script for DOT
*/

GO
SET ANSI_NULLS, ANSI_PADDING, ANSI_WARNINGS, ARITHABORT, QUOTED_IDENTIFIER ON;

SET CONCAT_NULL_YIELDS_NULL, NUMERIC_ROUNDABORT OFF;


GO
:setvar DatabaseName "DOT"
:setvar DefaultDataPath "C:\Program Files\Microsoft SQL Server\MSSQL10.CMRS_SERVER\MSSQL\DATA\"
:setvar DefaultLogPath "C:\Program Files\Microsoft SQL Server\MSSQL10.CMRS_SERVER\MSSQL\DATA\"

GO
USE [master]

GO
:on error exit
GO
USE [$(DatabaseName)]

GO
IF EXISTS (SELECT * FROM tempdb..sysobjects WHERE id=OBJECT_ID('tempdb..#tmpErrors')) DROP TABLE #tmpErrors
GO
CREATE TABLE #tmpErrors (Error int)
GO
SET XACT_ABORT ON
GO
SET TRANSACTION ISOLATION LEVEL READ COMMITTED
GO
BEGIN TRANSACTION
GO
PRINT N'Dropping [ON_VEHICLE_UPDATE_CLR_LIB].[SqlAssemblyProjectRoot]...';


GO
EXECUTE sp_dropextendedproperty @name = N'SqlAssemblyProjectRoot', @level0type = N'Assembly', @level0name = N'ON_VEHICLE_UPDATE_CLR_LIB';


GO
IF @@ERROR <> 0
   AND @@TRANCOUNT > 0
    BEGIN
        ROLLBACK;
    END

IF @@TRANCOUNT = 0
    BEGIN
        INSERT  INTO #tmpErrors (Error)
        VALUES                 (1);
        BEGIN TRANSACTION;
    END


GO
PRINT N'Dropping [dbo].[SP_On_vehicleUpdate_clr]...';


GO
DROP PROCEDURE [dbo].[SP_On_vehicleUpdate_clr];


GO
IF @@ERROR <> 0
   AND @@TRANCOUNT > 0
    BEGIN
        ROLLBACK;
    END

IF @@TRANCOUNT = 0
    BEGIN
        INSERT  INTO #tmpErrors (Error)
        VALUES                 (1);
        BEGIN TRANSACTION;
    END


GO
PRINT N'Dropping [ON_VEHICLE_UPDATE_CLR_LIB]...';


GO
DROP ASSEMBLY [ON_VEHICLE_UPDATE_CLR_LIB];


GO
IF @@ERROR <> 0
   AND @@TRANCOUNT > 0
    BEGIN
        ROLLBACK;
    END

IF @@TRANCOUNT = 0
    BEGIN
        INSERT  INTO #tmpErrors (Error)
        VALUES                 (1);
        BEGIN TRANSACTION;
    END


GO
PRINT N'Creating [ON_VEHICLE_UPDATE_CLR_LIB]...';


GO
CREATE ASSEMBLY [ON_VEHICLE_UPDATE_CLR_LIB]
    AUTHORIZATION [dbo]
    FROM 0x4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000504500004C0103004F429C4E0000000000000000E00002210B010800000E000000060000000000004E2D0000002000000040000000004000002000000002000004000000000000000400000000000000008000000002000000000000030040850000100000100000000010000010000000000000100000000000000000000000002D00004B00000000400000C803000000000000000000000000000000000000006000000C00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000080000000000000000000000082000004800000000000000000000002E74657874000000540D000000200000000E000000020000000000000000000000000000200000602E72737263000000C8030000004000000004000000100000000000000000000000000000400000402E72656C6F6300000C0000000060000000020000001400000000000000000000000000004000004200000000000000000000000000000000302D0000000000004800000002000500E0210000200B000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001B30040060010000010000117E0E00000A0A7E0E00000A0B730F00000A0C0872010000706F1000000A086F1100000A0D0972310000706F1200000A096F1300000A72A5000070028C020000016F1400000A26086F1500000A731600000A13041104096F1700000A731800000A1305110411056F1900000A2672B900007008731A00000A130611066F1B00000A74100000010A731C00000A2611056F1D00000A166F1E00000A2611056F1F00000A0B14130714130814130914130A732000000A130B110B076F2100000A130C06282200000A741F0000011307110772FF0000706F2300000A1107110C8E696A6F2400000A110772090100706F2500000A11076F2600000A130D110D110C16110C8E696F2700000A110D6F2800000A11076F2900000A7422000001130811086F2A00000A13091109732B00000A130A11086F2C00000A11096F2D00000A110A6F2E00000ADE1A130E282F00000A110E6F3000000A6F3100000A6F3200000ADE002A411C0000000000000C00000039010000450100001A000000270000011E02283300000A2A42534A4201000100000000000C00000076322E302E35303732370000000005006C0000003C030000237E0000A80300002405000023537472696E677300000000CC0800001C01000023555300E8090000100000002347554944000000F80900002801000023426C6F620000000000000002000001471502000900000000FA2533001600000100000027000000020000000200000001000000330000000B00000001000000010000000300000000000A00010000000000060042003B000A006A0055000600AD009B000600C4009B000600E1009B00060000019B00060019019B00060032019B0006004D019B00060068019B000600A00181010600B4019B000600ED01CD0106000D02CD010A0060024502060076023B000A00990283020A00BA02A7020A00DC0283020A00F502A7020A000F0383020A00350383020A00540383020A00750349000A007D03A7020A009C0349000A00A60349000600E103D5030600EF03D5030E000C0401040E001E040104060064045A040E00880401040E00A00401040600C2045A040600D7045A040A00E20445020A00ED0445020600FE043B0000000000010000000000010001000100100028000000050001000100502000000000960073000A000100D8210000000086188B001000020000000100910019008B00140021008B00140029008B00140031008B00140039008B00140041008B00140049008B00140051008B00140059008B00190061008B00140069008B001E0071008B00100079008B00100081007D02280089008B0010009100C70214008900E7022B00A100FF021400990026033000A9004203350091004F031000B9008B001000B90063033C00C1008B001000C9008903420099008B004800A1008E034F00D1008B001000C100BA035300D900C5035800C100CE035E00E1008B001000E900F8036200F10017046800F1002D041400F10038046E00F1004A041400F1006B04730001017C047900010182041000F100940481000901B004730019018B0087000901820410000101CF0410002101CF0410002901F5048E00390108055E00090014055E0031011D05140009008B00100020006B0023002E002B00B8002E001300C9002E001B00C9002E002300CF002E000B00B8002E003300DE002E003B00C9002E004B00C9002E005B00FF002E006300080194000480000001000000D310FF450000000000002B0200000200000000000000000000000100320000000000020000000000000000000000010049000000000002000000000000000000000001003B00000000000000003C4D6F64756C653E004F4E5F56454849434C455F5550444154455F434C525F4C49422E646C6C00636C725F436C617373006D73636F726C69620053797374656D004F626A6563740053797374656D2E446174610053797374656D2E446174612E53716C54797065730053716C496E7433320053505F4F6E5F76656869636C655570646174655F636C72002E63746F720076656869636C6549440053797374656D2E5265666C656374696F6E00417373656D626C795469746C6541747472696275746500417373656D626C794465736372697074696F6E41747472696275746500417373656D626C79436F6E66696775726174696F6E41747472696275746500417373656D626C79436F6D70616E7941747472696275746500417373656D626C7950726F6475637441747472696275746500417373656D626C79436F7079726967687441747472696275746500417373656D626C7954726164656D61726B41747472696275746500417373656D626C7943756C747572654174747269627574650053797374656D2E52756E74696D652E496E7465726F70536572766963657300436F6D56697369626C6541747472696275746500417373656D626C7956657273696F6E4174747269627574650053797374656D2E52756E74696D652E436F6D70696C6572536572766963657300436F6D70696C6174696F6E52656C61786174696F6E734174747269627574650052756E74696D65436F6D7061746962696C697479417474726962757465004F4E5F56454849434C455F5550444154455F434C525F4C4942004D6963726F736F66742E53716C5365727665722E5365727665720053716C50726F63656475726541747472696275746500537472696E6700456D7074790053797374656D2E446174612E53716C436C69656E740053716C436F6E6E656374696F6E0053797374656D2E446174612E436F6D6D6F6E004462436F6E6E656374696F6E007365745F436F6E6E656374696F6E537472696E670053716C436F6D6D616E6400437265617465436F6D6D616E64004462436F6D6D616E64007365745F436F6D6D616E64546578740053716C506172616D65746572436F6C6C656374696F6E006765745F506172616D65746572730053716C506172616D65746572004164645769746856616C7565004F70656E0053716C4461746141646170746572007365745F53656C656374436F6D6D616E6400446174615365740044617461416461707465720046696C6C00457865637574655363616C617200446174615461626C6500446174615461626C65436F6C6C656374696F6E006765745F5461626C6573006765745F4974656D00476574586D6C0053797374656D2E54657874004153434949456E636F64696E6700456E636F64696E670047657442797465730053797374656D2E4E6574005765625265717565737400437265617465004874747057656252657175657374007365745F4D6574686F64007365745F436F6E74656E744C656E677468007365745F436F6E74656E74547970650053797374656D2E494F0053747265616D004765745265717565737453747265616D00577269746500436C6F736500576562526573706F6E736500476574526573706F6E73650048747470576562526573706F6E736500476574526573706F6E736553747265616D0053747265616D52656164657200446973706F736500546578745265616465720053716C436F6E746578740053716C50697065006765745F5069706500457863657074696F6E006765745F4D65737361676500546F537472696E670053656E64000000002F43006F006E007400650078007400200043006F006E006E0065006300740069006F006E003D0074007200750065000073530045004C0045004300540020002A002000460052004F004D002000760065006800690063006C0065005F007300740061007400750073002000570048004500520045002000760065006800690063006C0065005F006900640020003D0020004000760065006800690063006C004900440000134000760065006800690063006C00490044000045530045004C004500430054002000550052004C002000460052004F004D00200043004C0052005F0043006F006E00660069006700750072006100740069006F006E002000000950004F0053005400001174006500780074002F0078006D006C000000A88009255D7115458930FB615F9CF6600008B77A5C561934E08905000101110903200001042001010E04200101020420010108040100000002060E042000124D042000125506200212590E1C05200101124D052001081261062002010E12450320001C042000126D0520011269080320000E0520011D050E05000112790E042001010A052000128081072003011D0508080520001280850620010112808105000012809923070F0E0E1245124D125D1261124D127D12808912808112808D12711D0512808112809D1001000B73616D706C65434C52535000000501000000000E0100094D6963726F736F667400002001001B436F7079726967687420C2A9204D6963726F736F6674203230313100000801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F77730100282D000000000000000000003E2D0000002000000000000000000000000000000000000000000000302D00000000000000005F436F72446C6C4D61696E006D73636F7265652E646C6C0000000000FF25002040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100000001800008000000000000000000000000000000100010000003000008000000000000000000000000000000100000000004800000058400000700300000000000000000000700334000000560053005F00560045005200530049004F004E005F0049004E0046004F0000000000BD04EFFE0000010000000100FF45D31000000100FF45D3103F000000000000000400000002000000000000000000000000000000440000000100560061007200460069006C00650049006E0066006F00000000002400040000005400720061006E0073006C006100740069006F006E00000000000000B004D0020000010053007400720069006E006700460069006C00650049006E0066006F000000AC020000010030003000300030003000340062003000000034000A00010043006F006D00700061006E0079004E0061006D006500000000004D006900630072006F0073006F0066007400000040000C000100460069006C0065004400650073006300720069007000740069006F006E0000000000730061006D0070006C00650043004C00520053005000000040000F000100460069006C006500560065007200730069006F006E000000000031002E0030002E0034003300300037002E0031003700390031003900000000005C001E00010049006E007400650072006E0061006C004E0061006D00650000004F004E005F00560045004800490043004C0045005F005500500044004100540045005F0043004C0052005F004C00490042002E0064006C006C0000005C001B0001004C006500670061006C0043006F007000790072006900670068007400000043006F0070007900720069006700680074002000A90020004D006900630072006F0073006F0066007400200032003000310031000000000064001E0001004F0072006900670069006E0061006C00460069006C0065006E0061006D00650000004F004E005F00560045004800490043004C0045005F005500500044004100540045005F0043004C0052005F004C00490042002E0064006C006C00000038000C000100500072006F0064007500630074004E0061006D00650000000000730061006D0070006C00650043004C00520053005000000044000F000100500072006F006400750063007400560065007200730069006F006E00000031002E0030002E0034003300300037002E00310037003900310039000000000048000F00010041007300730065006D0062006C0079002000560065007200730069006F006E00000031002E0030002E0034003300300037002E0031003700390031003900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000C000000503D00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
    WITH PERMISSION_SET = EXTERNAL_ACCESS;


GO
IF @@ERROR <> 0
   AND @@TRANCOUNT > 0
    BEGIN
        ROLLBACK;
    END

IF @@TRANCOUNT = 0
    BEGIN
        INSERT  INTO #tmpErrors (Error)
        VALUES                 (1);
        BEGIN TRANSACTION;
    END


GO
PRINT N'Adding files to assembly [ON_VEHICLE_UPDATE_CLR_LIB]';


GO
ALTER ASSEMBLY [ON_VEHICLE_UPDATE_CLR_LIB]
    DROP FILE ALL
    ADD FILE FROM 0xEFBBBF7573696E672053797374656D2E5265666C656374696F6E3B0D0A7573696E672053797374656D2E52756E74696D652E436F6D70696C657253657276696365733B0D0A7573696E672053797374656D2E52756E74696D652E496E7465726F7053657276696365733B0D0A7573696E672053797374656D2E446174612E53716C3B0D0A0D0A2F2F2047656E6572616C20496E666F726D6174696F6E2061626F757420616E20617373656D626C7920697320636F6E74726F6C6C6564207468726F7567682074686520666F6C6C6F77696E670D0A2F2F20736574206F6620617474726962757465732E204368616E6765207468657365206174747269627574652076616C75657320746F206D6F646966792074686520696E666F726D6174696F6E0D0A2F2F206173736F636961746564207769746820616E20617373656D626C792E0D0A5B617373656D626C793A20417373656D626C795469746C65282273616D706C65434C52535022295D0D0A5B617373656D626C793A20417373656D626C794465736372697074696F6E282222295D0D0A5B617373656D626C793A20417373656D626C79436F6E66696775726174696F6E282222295D0D0A5B617373656D626C793A20417373656D626C79436F6D70616E7928224D6963726F736F667422295D0D0A5B617373656D626C793A20417373656D626C7950726F64756374282273616D706C65434C52535022295D0D0A5B617373656D626C793A20417373656D626C79436F707972696768742822436F7079726967687420C2A9204D6963726F736F6674203230313122295D0D0A5B617373656D626C793A20417373656D626C7954726164656D61726B282222295D0D0A5B617373656D626C793A20417373656D626C7943756C74757265282222295D0D0A0D0A5B617373656D626C793A20436F6D56697369626C652866616C7365295D0D0A0D0A2F2F0D0A2F2F2056657273696F6E20696E666F726D6174696F6E20666F7220616E20617373656D626C7920636F6E7369737473206F662074686520666F6C6C6F77696E6720666F75722076616C7565733A0D0A2F2F0D0A2F2F2020202020204D616A6F722056657273696F6E0D0A2F2F2020202020204D696E6F722056657273696F6E0D0A2F2F2020202020204275696C64204E756D6265720D0A2F2F2020202020205265766973696F6E0D0A2F2F0D0A2F2F20596F752063616E207370656369667920616C6C207468652076616C756573206F7220796F752063616E2064656661756C7420746865205265766973696F6E20616E64204275696C64204E756D626572730D0A2F2F206279207573696E672074686520272A272061732073686F776E2062656C6F773A0D0A5B617373656D626C793A20417373656D626C7956657273696F6E2822312E302E2A22295D0D0A0D0A AS N'Properties\AssemblyInfo.cs', 0xEFBBBF7573696E672053797374656D3B0D0A7573696E672053797374656D2E446174613B0D0A7573696E672053797374656D2E446174612E53716C436C69656E743B0D0A7573696E672053797374656D2E446174612E53716C54797065733B0D0A7573696E67204D6963726F736F66742E53716C5365727665722E5365727665723B0D0A7573696E672053797374656D2E494F3B0D0A7573696E672053797374656D2E586D6C3B0D0A7573696E672053797374656D2E586D6C2E53657269616C697A6174696F6E3B0D0A7573696E672053797374656D2E52756E74696D653B0D0A7573696E672053797374656D2E4E65743B0D0A7573696E672053797374656D2E546578743B0D0A0D0A0D0A7075626C6963207061727469616C20636C61737320636C725F436C6173730D0A7B0D0A2020200D0A202020202F2F2F203C73756D6D6172793E0D0A202020202F2F2F200D0A202020202F2F2F203C2F73756D6D6172793E0D0A202020202F2F2F203C706172616D206E616D653D2276656869636C654944223E3C2F706172616D3E0D0A5B4D6963726F736F66742E53716C5365727665722E5365727665722E53716C50726F6365647572655D0D0A202020207075626C69632073746174696320766F69642053505F4F6E5F76656869636C655570646174655F636C722853716C496E7433322076656869636C654944290D0A202020207B0D0A20202020202020202F2F544F444F3A57494C4C204E45454420544F204D4F56452055524C20696E746F20612073797374656D20636F6E66696775726174696F6E207461626C652077686572652069742077696C6C20626520726561642066726F6D2E200D0A20202020202020202F2F416C736F206D6179206E65656420746F206D6F7665207468652064617461626173652063616C6C20696E746F2065697468657220746865207472696767657220736F20776520646F6E2774206D616B6520726F756E642074726970206272696E67696E6720757020616E6F7468657220646174616261736520636F6E6E656374696F6E2073657373696F6E2E0D0A0D0A2020202020202020737472696E672075726C203D20737472696E672E456D7074793B0D0A0D0A0D0A0D0A20202020202020737472696E672076656869636C6544617461203D20737472696E672E456D7074793B0D0A20202020202020207472790D0A20202020202020207B0D0A2020202020202020200D0A0D0A20202020202020202020202053716C436F6E6E656374696F6E20636F6E6E203D206E65772053716C436F6E6E656374696F6E28293B0D0A202020202020202020202020636F6E6E2E436F6E6E656374696F6E537472696E67203D2022436F6E7465787420436F6E6E656374696F6E3D74727565223B0D0A0D0A20202020202020202020202053716C436F6D6D616E64206D79436F6D6D616E64203D20636F6E6E2E437265617465436F6D6D616E6428293B0D0A0D0A2020202020202020202020206D79436F6D6D616E642E436F6D6D616E6454657874203D20402253454C454354202A2046524F4D2076656869636C655F7374617475732057484552452076656869636C655F6964203D204076656869636C4944223B0D0A0D0A0D0A2020202020202020202020206D79436F6D6D616E642E506172616D65746572732E4164645769746856616C756528224076656869636C4944222C2076656869636C654944293B0D0A202020202020202020202020636F6E6E2E4F70656E28293B0D0A0D0A20202020202020202020202053716C4461746141646170746572206D7953716C4461746141646170746572203D206E65772053716C446174614164617074657228293B0D0A202020202020202020202020206D7953716C44617461416461707465722E53656C656374436F6D6D616E64203D206D79436F6D6D616E643B0D0A2020202020202020202020202044617461536574206D7944617461536574203D206E6577204461746153657428293B0D0A202020202020202020202020206D7953716C44617461416461707465722E46696C6C286D7944617461536574293B0D0A0D0A0D0A2020202020202020202020202F2F6765742055524C2066726F6D20746865206461746162617365206265666F726520636C6F73696E672074686520636F6E6E656374696F6E2E0D0A0D0A2020202020202020202020202053716C436F6D6D616E6420636D64203D206E65772053716C436F6D6D616E64280D0A202020202020202020202020202020202253454C4543542055524C2046524F4D20434C525F436F6E66696775726174696F6E20222C20636F6E6E293B0D0A20202020202020202020202020202075726C203D202028737472696E6729636D642E457865637574655363616C617228293B0D0A0D0A0D0A20202020202020202020202020446174615461626C65206474203D206E657720446174615461626C6528293B0D0A2020202020202020202020206474203D2028446174615461626C65296D79446174615365742E5461626C65735B305D3B0D0A0D0A20202020202020202020202076656869636C6544617461203D206D79446174615365742E476574586D6C28293B200D0A202020202020200D0A2020202020202020202020202F2F4372656174696E67204854545020706F737420616E642073656E64696E6720646174612E0D0A20202020202020202020202048747470576562526571756573742072657175657374203D206E756C6C3B0D0A20202020202020202020202048747470576562526573706F6E736520726573706F6E7365203D206E756C6C3B0D0A20202020202020202020202053747265616D2073747265616D203D206E756C6C3B0D0A20202020202020202020202053747265616D5265616465722073747265616D526561646572203D206E756C6C3B0D0A0D0A20202020202020202020202053797374656D2E546578742E4153434949456E636F64696E6720656E636F64696E67203D206E65772053797374656D2E546578742E4153434949456E636F64696E6728293B0D0A202020202020202020202020427974655B5D206279746573203D20656E636F64696E672E47657442797465732876656869636C6544617461293B0D0A0D0A0D0A0D0A20202020202020202020202072657175657374203D2028487474705765625265717565737429576562526571756573742E4372656174652875726C293B0D0A202020202020202020202020726571756573742E4D6574686F64203D2022504F5354223B0D0A202020202020202020202020726571756573742E436F6E74656E744C656E677468203D2062797465732E4C656E6774683B0D0A202020202020202020202020726571756573742E436F6E74656E7454797065203D2022746578742F786D6C223B0D0A20202020202020202020200D0A20202020202020202020202053747265616D206461746153747265616D203D20726571756573742E4765745265717565737453747265616D28293B0D0A2020202020202020202020206461746153747265616D2E57726974652862797465732C20302C2062797465732E4C656E677468293B0D0A2020202020202020202020206461746153747265616D2E436C6F736528293B0D0A0D0A202020202020202020202020726573706F6E7365203D202848747470576562526573706F6E736529726571756573742E476574526573706F6E736528293B0D0A20202020202020202020202073747265616D203D20726573706F6E73652E476574526573706F6E736553747265616D28293B0D0A20202020202020202020202073747265616D526561646572203D206E65772053747265616D5265616465722873747265616D293B0D0A0D0A202020202020202020202020726573706F6E73652E436C6F736528293B0D0A20202020202020202020202073747265616D2E446973706F736528293B0D0A20202020202020202020202073747265616D5265616465722E446973706F736528293B0D0A0D0A20202020202020207D0D0A202020202020202063617463682028457863657074696F6E206578290D0A20202020202020207B0D0A20202020202020202020202053716C436F6E746578742E506970652E53656E642865782E4D6573736167652E546F537472696E672829293B0D0A20202020202020207D0D0A20202020200D0A202020207D0D0A0D0A0D0A0D0A20200D0A0D0A7D3B0D0A0D0A0D0A0D0A20 AS N'clr_Class.cs';


GO
PRINT N'Creating [dbo].[SP_On_vehicleUpdate_clr]...';


GO
CREATE PROCEDURE [dbo].[SP_On_vehicleUpdate_clr]
@vehicleID INT
AS EXTERNAL NAME [ON_VEHICLE_UPDATE_CLR_LIB].[clr_Class].[SP_On_vehicleUpdate_clr]


GO
IF @@ERROR <> 0
   AND @@TRANCOUNT > 0
    BEGIN
        ROLLBACK;
    END

IF @@TRANCOUNT = 0
    BEGIN
        INSERT  INTO #tmpErrors (Error)
        VALUES                 (1);
        BEGIN TRANSACTION;
    END


GO
PRINT N'Creating [ON_VEHICLE_UPDATE_CLR_LIB].[SqlAssemblyProjectRoot]...';


GO
EXECUTE sp_addextendedproperty @name = N'SqlAssemblyProjectRoot', @value = N'C:\Users\Administrator\Desktop\DATA PUSH\VEHICLE_STATUS_CLR', @level0type = N'Assembly', @level0name = N'ON_VEHICLE_UPDATE_CLR_LIB';


GO
IF @@ERROR <> 0
   AND @@TRANCOUNT > 0
    BEGIN
        ROLLBACK;
    END

IF @@TRANCOUNT = 0
    BEGIN
        INSERT  INTO #tmpErrors (Error)
        VALUES                 (1);
        BEGIN TRANSACTION;
    END


GO
IF EXISTS (SELECT * FROM #tmpErrors) ROLLBACK TRANSACTION
GO
IF @@TRANCOUNT>0 BEGIN
PRINT N'The transacted portion of the database update succeeded.'
COMMIT TRANSACTION
END
ELSE PRINT N'The transacted portion of the database update failed.'
GO
DROP TABLE #tmpErrors
GO
